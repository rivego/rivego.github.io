import{o as n,e as s,f as o,d as B,z as H,x as N,h as e,E as C,S as M,j as i,F as _,C as A,B as k,g as m,w as y,l as D,V as U,k as $,T as L,R as K,U as G,m as j,W as Q}from"./index.9375de27.js";import{a as E,C as X}from"./c-table.5af6fa9a.js";import{_ as O}from"./user-link.17370b87.js";import{_ as z}from"./cf-rating-color.f6fd5b3c.js";import{l as V}from"./load.b9090f49.js";import{_ as q,a as Z}from"./nc-rating-color.b4c6c2b0.js";const tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},et=o("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4a8 8 0 0 0-8 8a8 8 0 0 0 8 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18a6 6 0 0 1-6-6a6 6 0 0 1 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z",fill:"currentColor"},null,-1),nt=[et];function at(t,u){return n(),s("svg",tt,nt)}var st={name:"mdi-refresh",render:at};const rt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},ot=o("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2L9.19 8.62L2 9.24l5.45 4.73L5.82 21L12 17.27z",fill:"currentColor"},null,-1),lt=[ot];function it(t,u){return n(),s("svg",rt,lt)}var ct={name:"mdi-star",render:it};const ut={class:"space-left"},dt={key:1},mt=B({props:{author:null},setup(t){const u=t,{author:a}=H(u),r=N(()=>{var w,f;return(f=(w=a==null?void 0:a.value)==null?void 0:w.teamUrl)!=null?f:""}),d=()=>{r.value!==""&&window.open(r.value,"_blank")};return(w,f)=>e(C)(e(a).teamName)?(n(),s(_,{key:0},[o("div",null,[o("span",{class:M(e(r)!==""&&"cursor-pointer"),onClick:d},i(e(a).teamName),3)]),o("div",ut,[(n(!0),s(_,null,A(e(a).members,(h,R)=>(n(),k(O,{class:M(R>0&&"ml-2"),key:h,name:h},null,8,["class","name"]))),128))])],64)):(n(),s("span",dt,i(e(a).members[0]),1))}});var ht=JSON.parse('{"keyMaps":[],"stringMaps":[["tourist","a"],["ybb_little_train","b"],["Xiong_Qian","c"],["Kenshin2438","d"],["jiangly","e"],["The-Fool","f"],["Reisen_","g"]],"data":[{"n":"a","h":"a","r":3618},{"n":"b","h":"b","r":1610},{"n":"c","h":"c","r":1469},{"n":"d","h":"d","r":1807},{"n":"e","h":"e","r":3913},{"n":"f","h":"f","r":1662},{"n":"g","h":"g","r":1386}]}');const W=V(ht),ft=new Map(W.map(t=>[t.h,t.n])),pt=new Map(W.map(t=>[t.h,t.r]));function le(t){var u;return(u=ft.get(t))!=null?u:t}function P(t){return pt.get(t)}const _t={class:"space-left"},gt=["href"],vt={class:"space-left"},yt=["href"],bt={key:2},kt=B({props:{author:null},setup(t){return(u,a)=>e(C)(t.author.teamName)&&t.author.members.length<=1?(n(),s(_,{key:0},[m(O,{name:t.author.teamName},null,8,["name"]),o("span",_t,[(n(!0),s(_,null,A(t.author.members,(r,d)=>(n(),s("a",{key:d,class:"ml-2",href:`https://codeforces.com/profile/${r}`,target:"_blank"},[m(e(z),{rating:e(P)(r)},{default:y(()=>[D(i(r),1)]),_:2},1032,["rating"])],8,gt))),128))])],64)):e(C)(t.author.teamName)?(n(),s(_,{key:1},[o("div",null,[m(O,{name:t.author.teamName},null,8,["name"])]),o("div",vt,[(n(!0),s(_,null,A(t.author.members,(r,d)=>(n(),s("a",{key:d,class:M(d>0&&"ml-2"),href:`https://codeforces.com/profile/${r}`,target:"_blank"},[m(e(z),{rating:e(P)(r)},{default:y(()=>[D(i(r),1)]),_:2},1032,["rating"])],10,yt))),128))])],64)):(n(),s("span",bt,i(t.author.members[0]),1))}});var $t=JSON.parse('{"keyMaps":[],"stringMaps":[["tourist","a"],["jiangly","b"]],"data":[{"n":"a","h":"a","r":4023},{"n":"b","h":"b","r":3320}]}');const J=V($t);new Map(J.map(t=>[t.h,t.n]));const xt=new Map(J.map(t=>[t.h,t.r]));function Ct(t){return xt.get(t)}const wt={class:"space-left"},Nt=["href"],Mt={key:1},Bt=B({props:{author:null},setup(t){return(u,a)=>e(C)(t.author.teamName)?(n(),s(_,{key:0},[m(O,{name:t.author.teamName},null,8,["name"]),o("span",wt,[(n(!0),s(_,null,A(t.author.members,(r,d)=>(n(),s("a",{key:d,class:"ml-2 font-bold",href:`https://atcoder.jp/users/${r}`,target:"_blank"},[m(e(q),{rating:e(Ct)(r)},{default:y(()=>[D(i(r),1)]),_:2},1032,["rating"])],8,Nt))),128))])],64)):(n(),s("span",Mt,i(t.author.members[0]),1))}});var Ft=JSON.parse('{"keyMaps":[],"stringMaps":[],"data":[]}');const Y=V(Ft);new Map(Y.map(t=>[t.hn,t.n]));const Tt=new Map(Y.map(t=>[t.hn,t.r]));function At(t){return Tt.get(t)}const Rt=["href"],Et={class:"space-left"},Ut=["href"],Ot={key:1},It=B({props:{author:null},setup(t){return(u,a)=>e(C)(t.author.teamName)?(n(),s(_,{key:0},[o("div",null,[o("a",{href:t.author.teamUrl},[m(e(Z),{rating:e(At)(t.author.teamName)},{default:y(()=>[D(i(t.author.teamName),1)]),_:1},8,["rating"])],8,Rt)]),o("div",Et,[(n(!0),s(_,null,A(t.author.members,(r,d)=>(n(),s("span",{key:r,class:M(d>0&&"ml-2")},[/^\d+$/.test(r)?(n(),s("a",{key:0,href:`https://ac.nowcoder.com/acm/contest/profile/${r}`},i(r),9,Ut)):(n(),k(O,{key:1,name:r},null,8,["name"]))],2))),128))])],64)):(n(),s("span",Ot,i(t.author.members[0]),1))}}),Lt=o("span",null,"+",-1),Dt={key:0},St={key:0,class:"text-sm text-gray-400"},Ht={key:1},Vt={class:"text-center font-bold text-red-500"},Kt=o("span",null,"-",-1),jt=B({props:{result:null,practice:{type:Boolean}},setup(t){const u=t,{result:a}=H(u),r=N(()=>{var f,h;return(h=(f=a==null?void 0:a.value)==null?void 0:f.submissionUrl)!=null?h:""}),d=()=>{r.value!==""&&window.open(r.value,"_blank")};function w(f){function h(F){return(F<10?"0":"")+F}const R=Math.floor(f/3600),S=Math.floor(f%3600/60);return`${R}:${h(S)}`}return(f,h)=>e(a)?(n(),s(_,{key:0},[e(a).verdict===e(U).OK?(n(),s("div",{key:0,class:M(e(r)!==""&&"cursor-pointer"),onClick:d},[o("div",{class:M(["text-center","font-bold",t.practice?"text-blue-500":"text-green-500"])},[Lt,e(a).dirty?(n(),s("span",Dt,i(e(a).dirty),1)):$("v-if",!0)],2),t.practice?$("v-if",!0):(n(),s("div",St,[o("span",null,i(w(e(a).relativeTime)),1)]))],2)):e(a).dirty?(n(),s("div",Ht,[o("div",Vt,[Kt,o("span",null,i(e(a).dirty),1)])])):$("v-if",!0)],2112)):$("v-if",!0)}}),zt={key:0,class:"mt-4 box"},Pt={key:0,class:"font-600"},Wt={key:1,class:"font-600"},Jt={class:"flex items-center"},Yt={key:0},Gt=B({props:{contest:null},setup(t){const u=t,{contest:a}=H(u),r=N(()=>a.value.type.startsWith("codeforces")),d=N(()=>a.value.type.startsWith("atcoder")),w=N(()=>a.value.type.startsWith("nowcoder")),f=c=>c.author.participantType===K.OUT_OF_COMPETITION,h=c=>c.author.participantType===K.PRACTICE,R=c=>typeof c=="string"?c:String.fromCharCode(65+c),S=N(()=>{var c,T;return(T=(c=a.value.problems)==null?void 0:c.sort((l,b)=>{const p=typeof l.index=="string"?l.index.charCodeAt(0)-65:l.index,g=typeof b.index=="string"?b.index.charCodeAt(0)-65:b.index;return p-g}))!=null?T:[]}),F=N(()=>{var T,l,b;if(L(a.value.problems))return{standings:[],firstBlood:[]};if(L(a.value.standings))return{standings:[],firstBlood:[]};const c=Array((T=a.value.problems)==null?void 0:T.length);for(const p of a.value.standings){const g=Array((l=a.value.problems)==null?void 0:l.length);for(const v of p.submissions){const x=v.problemIndex;if(v.verdict===U.OK&&!h(p)&&(L(c[x])||c[x].relativeTime>v.relativeTime)&&(c[x]=v),L(g[x]))g[x]=v;else{const I=g[x];((b=I==null?void 0:I.verdict)!=null?b:U.FAILED)!==U.OK&&(g[x]=v)}}Reflect.set(p,"result",g)}return{standings:a.value.standings,firstBlood:c}});return(c,T)=>e(a).standings?(n(),s("div",zt,[m(e(X),{data:e(F).standings,mobile:1023},{columns:y(({row:l})=>[m(e(E),{label:"#",align:"center",width:"4em"},{default:y(()=>[h(l)?(n(),s("span",Wt,"-")):(n(),s("span",Pt,i(l.rank),1))]),_:2},1024),m(e(E),{label:e(r)?"Handle":""},{default:y(()=>[o("div",Jt,[f(l)?(n(),k(e(ct),{key:0,class:"mr-1 text-sm text-yellow-300 inline-block"})):$("v-if",!0),o("div",null,[e(r)?(n(),k(kt,{key:0,author:l.author},null,8,["author"])):e(d)?(n(),k(Bt,{key:1,author:l.author},null,8,["author"])):e(w)?(n(),k(It,{key:2,author:l.author},null,8,["author"])):(n(),k(mt,{key:3,author:l.author},null,8,["author"]))])])]),_:2},1032,["label"]),m(e(E),{label:"\u89E3\u51B3",align:"center",width:"4em"},{default:y(()=>[o("span",null,i(l.solved),1)]),_:2},1024),m(e(E),{label:"\u7F5A\u65F6",align:"center",width:"4em"},{default:y(()=>[h(l)?$("v-if",!0):(n(),s("span",Yt,i(e(G)(l.penalty).value),1))]),_:2},1024),(n(!0),s(_,null,A(e(S),(b,p)=>{var g,v;return n(),k(e(E),{key:b.index,label:R(b.index),center:"",class:M(e(C)(l)&&e(C)(e(F).firstBlood[p])&&e(C)(l.result[p])&&l.result[p].verdict===e(U).OK&&l.result[p].relativeTime<=((v=(g=e(F).firstBlood[p])==null?void 0:g.relativeTime)!=null?v:Number.MIN_SAFE_INTEGER)&&"bg-[#E0FFE4]")},{default:y(()=>[m(jt,{result:l.result[p],practice:h(l)},null,8,["result","practice"])]),_:2},1032,["label","class"])}),128))]),_:1},8,["data"])])):$("v-if",!0)}}),Qt={class:"mb-4 flex items-center"},Xt={class:"info-box border-left"},qt={key:0},Zt=["href"],te=["href"],ie=B({props:{contest:null,dynamic:{type:Boolean}},emits:["refresh"],setup(t,{emit:u}){return(a,r)=>(n(),s("div",null,[o("h2",Qt,[o("span",null,i(t.contest.name),1),t.dynamic?(n(),k(e(st),{key:0,class:"ml-4 h-8 w-8 p-1 border rounded-full cursor-pointer hover:bg-light-700",onClick:r[0]||(r[0]=d=>u("refresh"))})):$("v-if",!0)]),o("div",Xt,[o("p",null," \u65F6\u95F4\uFF1A"+i(e(j)(t.contest.startTime).value)+" \u81F3 "+i(e(j)(t.contest.startTime+t.contest.duration).value),1),o("p",null,"\u65F6\u957F\uFF1A"+i(e(Q)(t.contest.duration).value),1),o("p",null,"\u4EBA\u6570\uFF1A"+i(t.contest.participantNumber)+" \u4EBA",1),t.contest.contestUrl||t.contest.standingsUrl?(n(),s("p",qt,[o("a",{href:t.contest.contestUrl,target:"_blank"},"\u6BD4\u8D5B\u4E3B\u9875",8,Zt),o("a",{href:t.contest.standingsUrl,target:"_blank",class:"ml-2"},"\u5B8C\u6574\u699C\u5355",8,te)])):$("v-if",!0)]),m(Gt,{contest:t.contest},null,8,["contest"])]))}});export{ie as _,le as f,W as h};
